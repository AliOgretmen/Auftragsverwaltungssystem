<div class="order-services">
  <div class="m-t-1">
    <h2 class="m-t-1" translate="SERVICE.TITLE"></h2>
    <form [formGroup]="serviceForm" class="full-width">
      <div fxLayout="row" class="m-t-1" fxLayoutAlign="space-between center" fxLayout.xs="column">
        <div fxFlex="25">
          <div>
            <h3 translate="DEVICE.TITLE"></h3>
            <mat-form-field>
              <mat-select formControlName="device" placeholder="{{ 'DEVICE.SELECT' | translate }}">
                <mat-option *ngFor="let device of devices; let i = index" name="xx-{i}" [value]="device.deviceId"
                  (click)="getModelsByDeviceId(device)">
                  {{device.deviceName}}
                </mat-option>
              </mat-select>
            </mat-form-field>
          </div>
        </div>
        <div fxFlex="25">
          <h3 translate="MODEL.TITLE"></h3>
          <mat-form-field>
            <mat-select formControlName="model" placeholder="{{ 'MODEL.SELECT' | translate }}">
              <mat-option *ngFor="let model of models; let i = index" name="yy-{i}" [value]="model.deviceModelId"
                (click)="getAllServicesByModelId(model)">
                {{model.deviceModelName}}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </div>
        <div fxFlex="25">
          <h3 translate="SERVICE.TITLE"></h3>
          <mat-form-field>
            <mat-select formControlName="service" placeholder="{{ 'SERVICE.SELECT' | translate }}">
              <mat-option *ngFor="let service of services; let i = index" name="zz-{i}" [value]="service.serviceId"
                (click)="getSelectedService(service)">
                {{service.serviceName}}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </div>
        <div fxFlex="25">
          <div fxLayout="row">
            <button mat-button mat-raised-button color="accent" (click)="saveNewService()">
              <div fxLayout="row" fxLayoutGap="10px">
                <div fxLayout="row" fxLayoutAlign="start center">
                  <mat-icon>add_circle_outline</mat-icon>
                </div>
                <div fxLayout="row" fxLayoutAlign="start center">
                  <span translate="BUTTON.ADD"></span>
                </div>
              </div>
            </button>
          </div>
        </div>
      </div>
    </form>

  </div>
  <div *ngIf="orders?.length">
    <div fxFlex="1 1 auto">
      <div  fxLayoutAlign="space-between center" class="m-b-1 m-t-1" *ngFor="let order of orders">
        <div fxLayout.xs="column" fxLayout="row" class="full-width" fxFlex="100">
          <div class="m-l-1 m-r-1">{{order?.device?.deviceName}}</div>
          <div class="m-l-1 m-r-1">{{order?.model?.deviceModelName}}</div>
          <div class="m-l-1 m-r-1">{{order?.service?.serviceName}}</div>
        </div>
        <div>
          <div>CHF {{order?.service?.price}}.-</div>
          <div fxFlex="8" class="m-l-1 m-r-1">
            <button mat-button mat-raised-button color="warn" (click)="removeServiceRow(order.id)">
              <mat-icon>delete</mat-icon>
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div fxLayout="row" *ngIf="orders?.length" fxLayoutAlign="end center">
    <div fxFlex="70" fxFlex.xs="100" fxLayoutAlign="end center">
      <h2><span translate="SERVICE.TOTAL"></span>{{serviceTotal}}</h2>
    </div>
  </div>

</div>

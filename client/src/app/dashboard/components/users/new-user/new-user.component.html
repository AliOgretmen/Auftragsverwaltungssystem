<div class="new-customer">
  <div class="avs-list m-t-1 m-l-1">
    <mat-card>
      <mat-card-header>
        <mat-icon class="title-icon-size" mat-card-avatar>person</mat-icon>
        <mat-card-title translate="USER.TITLE"></mat-card-title>
        <mat-card-subtitle translate="USER.NEWUSERSUBTITLE"></mat-card-subtitle>
      </mat-card-header>
      <mat-divider></mat-divider>
      <mat-card-content fxLayout="row" class="list-container">
        <mat-vertical-stepper [linear]="'true'" #stepper class="full-width">
          <mat-step [stepControl]="userForm">
            <ng-template matStepLabel><span translate="USER.STEP"></span></ng-template>
            <div fxLayout="row">
              <form fxLayout="column" fxFlex="90" [formGroup]="userForm" #form="ngForm">
                <div class="m-t-1 m-b-1" [ngClass]="{'mat-form-field-invalid': isActive.hasError('required') && form.submitted}">
                  <mat-slide-toggle class="mat-input-element" formControlName="isActive"><span translate="INPUT.ACTIVATE"></span></mat-slide-toggle>
                </div>
                <mat-form-field>
                  <mat-select placeholder="{{ 'INPUT.ROLES' | translate }}" formControlName="role">
                    <mat-option value="admin">Admin</mat-option>
                    <mat-option value="member">Member</mat-option>
                  </mat-select>
                </mat-form-field>
                <mat-form-field>
                  <input matInput placeholder="{{ 'INPUT.FIRSTNAME' | translate }}" formControlName="firstName">
                </mat-form-field>
                <mat-form-field>
                  <input matInput placeholder="{{ 'INPUT.LASTNAME' | translate }}"  formControlName="lastName">
                </mat-form-field>
                <mat-form-field>
                  <input matInput placeholder="Email" formControlName="email">
                </mat-form-field>
                <mat-form-field>
                  <input matInput placeholder="{{ 'PASSWORD.TITLE' | translate }}"  formControlName="password">
                </mat-form-field>
                <mat-form-field>
                  <input matInput placeholder="{{ 'PASSWORD.CONFIRM' | translate }}"  formControlName="repassword">
                </mat-form-field>
                <div fxLayout="row" fxLayoutGap="16px">
                  <div>
                    <button mat-button mat-raised-button color="accent" class="m-r-1" (click)="submitUserForm()">
                      <span translate="BUTTON.SAVE"></span>
                    </button>
                    <button mat-button mat-raised-button matStepperNext color="accent" [disabled]="!isUserSubmitted" class="m-r-1">
                        <span translate="BUTTON.NEXT"></span>
                      </button>
                  </div>
                </div>
              </form>
            </div>
          </mat-step>
          <mat-step>
            <ng-template matStepLabel><span translate="ADDRESS.ADD"></span></ng-template>
            <avs-dashboard-addresses [userId]="user?.userId" fxFlexFill></avs-dashboard-addresses>
          </mat-step>
        </mat-vertical-stepper>
      </mat-card-content>
    </mat-card>
  </div>
</div>
